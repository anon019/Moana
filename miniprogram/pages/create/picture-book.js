"use strict";const e=require("../../common/vendor.js"),a=require("../../stores/child.js"),o=require("../../stores/content.js"),n=require("../../api/content.js");Math||(r+l)();const l=()=>"../../components/GeneratingProgress/GeneratingProgress.js",r=()=>"../../components/CreationModeSelector/CreationModeSelector.js",t=e.defineComponent({__name:"picture-book",setup(l){const r=a.useChildStore();o.useContentStore();const t=e.ref(!0),i=e.ref(20),s=e.ref(88),u=[{id:"theme",name:"é€‰ä¸»é¢˜"},{id:"custom",name:"ä¸ªæ€§åŒ–"},{id:"confirm",name:"ç¡®è®¤"}],d=e.ref(0),c=[{id:"habit",name:"ä¹ æƒ¯å…»æˆ",icon:"ğŸŒŸ"},{id:"cognition",name:"è®¤çŸ¥å¯è’™",icon:"ğŸŒ"},{id:"emotion",name:"æƒ…æ„Ÿæˆé•¿",icon:"ğŸ’•"},{id:"adventure",name:"å†’é™©æ¢ç´¢",icon:"ğŸš€"},{id:"social",name:"ç¤¾äº¤èƒ½åŠ›",icon:"ğŸ¤"},{id:"festival",name:"èŠ‚æ—¥æ•…äº‹",icon:"ğŸ‰"}],g=e.ref("habit"),v=e.ref(null),m=[{id:"threed",name:"3D é£æ ¼",icon:"ğŸ¬"},{id:"illustration",name:"æ’ç”»é£æ ¼",icon:"ğŸ“š"},{id:"anime",name:"åŠ¨æ¼«é£æ ¼",icon:"ğŸŒ¸"},{id:"artistic",name:"è‰ºæœ¯é£æ ¼",icon:"ğŸ¨"},{id:"craft",name:"æ‰‹å·¥é£æ ¼",icon:"âœ‚ï¸"}],_=e.ref("threed"),y={threed:[{value:"pixar_3d",label:"çš®å…‹æ–¯3D",icon:"ğŸ§¸",desc:"åœ†æ¶¦å¯çˆ±",recommended:!0},{value:"pixar",label:"çš®å…‹æ–¯ç”µå½±",icon:"ğŸ¬",desc:"ç”µå½±æ¸²æŸ“"},{value:"dreamworks",label:"æ¢¦å·¥å‚",icon:"ğŸŒ™",desc:"æ´»æ³¼è¡¨æƒ…"},{value:"disney_3d",label:"è¿ªå£«å°¼3D",icon:"ğŸ°",desc:"ç«¥è¯å…¬ä¸»"},{value:"clay",label:"ç²˜åœŸé£æ ¼",icon:"ğŸ­",desc:"å®šæ ¼è´¨æ„Ÿ"},{value:"figurine",label:"æ‰‹åŠé£æ ¼",icon:"ğŸ",desc:"ç²¾è‡´æ‰‹åŠ"},{value:"low_poly",label:"ä½å¤šè¾¹å½¢",icon:"ğŸ’",desc:"å‡ ä½•ç®€çº¦"}],illustration:[{value:"storybook",label:"ç»˜æœ¬é£æ ¼",icon:"ğŸ“–",desc:"æ¸©æš–æ²»æ„ˆ"},{value:"watercolor",label:"æ°´å½©é£æ ¼",icon:"ğŸ’§",desc:"é€æ˜æ¢¦å¹»"},{value:"cartoon",label:"å¡é€šé£æ ¼",icon:"ğŸ¨",desc:"é²œè‰³æ˜å¿«"},{value:"flat",label:"æ‰å¹³é£æ ¼",icon:"âœ¨",desc:"ç®€æ´ç°ä»£"},{value:"crayon",label:"èœ¡ç¬”é£æ ¼",icon:"ğŸ–ï¸",desc:"ç«¥è¶£æ‰‹ç»˜"},{value:"colored_pencil",label:"å½©é“…é£æ ¼",icon:"âœï¸",desc:"ç»†è…»æŸ”å’Œ"}],anime:[{value:"anime",label:"æ—¥å¼åŠ¨æ¼«",icon:"ğŸŒ¸",desc:"å¤§çœ¼ç²¾è‡´"},{value:"chibi",label:"Qç‰ˆèŒç³»",icon:"ğŸ€",desc:"å¤§å¤´è¶…èŒ"},{value:"ghibli",label:"å‰åœåŠ›",icon:"ğŸ°",desc:"å®«å´éªé£"},{value:"shinkai",label:"æ–°æµ·è¯š",icon:"ğŸŒ…",desc:"å”¯ç¾ç»†è…»"},{value:"manga",label:"æ¼«ç”»é£æ ¼",icon:"ğŸ“”",desc:"çº¿æ¡å¼ åŠ›"},{value:"comic_book",label:"ç¾å¼æ¼«ç”»",icon:"ğŸ’¥",desc:"è‹±é›„æ¼«ç”»"}],artistic:[{value:"oil_painting",label:"æ²¹ç”»",icon:"ğŸ–¼ï¸",desc:"å¤å…¸åšé‡"},{value:"impressionist",label:"å°è±¡æ´¾",icon:"ğŸŒ»",desc:"è«å¥ˆå…‰å½±"},{value:"sketch",label:"ç´ æ",icon:"âœï¸",desc:"é“…ç¬”æ‰‹ç»˜"},{value:"ink_wash",label:"æ°´å¢¨ç”»",icon:"ğŸ–Œï¸",desc:"ä¼ ç»Ÿæ„å¢ƒ"},{value:"pop_art",label:"æ³¢æ™®è‰ºæœ¯",icon:"ğŸª",desc:"æ’è‰²å¤å¤"},{value:"art_nouveau",label:"æ–°è‰ºæœ¯",icon:"ğŸŒ¿",desc:"æ›²çº¿è£…é¥°"},{value:"pixel_art",label:"åƒç´ è‰ºæœ¯",icon:"ğŸ‘¾",desc:"å¤å¤æ¸¸æˆ"}],craft:[{value:"papercut",label:"å‰ªçº¸é£æ ¼",icon:"âœ‚ï¸",desc:"ä¼ ç»Ÿæ°‘é—´"},{value:"felt_craft",label:"ä¸ç»‡å¸ƒ",icon:"ğŸ§µ",desc:"æ¯›ç»’æ¸©æš–"},{value:"origami",label:"æŠ˜çº¸é£æ ¼",icon:"ğŸ¦¢",desc:"æŠ˜å è‰ºæœ¯"},{value:"embroidery",label:"åˆºç»£é£æ ¼",icon:"ğŸª¡",desc:"é’ˆçº¿å·¥è‰º"},{value:"mosaic",label:"é©¬èµ›å…‹",icon:"ğŸ¨",desc:"æ‹¼è´´è‰ºæœ¯"},{value:"stained_glass",label:"å½©è‰²ç»ç’ƒ",icon:"ğŸªŸ",desc:"æ•™å ‚å…‰å½±"}]},b=e.computed(()=>y[_.value]||y.threed),f=e.ref("pixar_3d");const w=[{value:"bunny",label:"å°å…”å­",emoji:"ğŸ°"},{value:"bear",label:"å°ç†Š",emoji:"ğŸ»"},{value:"cat",label:"å°çŒ«å’ª",emoji:"ğŸ±"},{value:"dog",label:"å°ç‹—ç‹—",emoji:"ğŸ¶"},{value:"panda",label:"ç†ŠçŒ«",emoji:"ğŸ¼"},{value:"fox",label:"å°ç‹ç‹¸",emoji:"ğŸ¦Š"},{value:"elephant",label:"å°è±¡",emoji:"ğŸ˜"},{value:"penguin",label:"ä¼é¹…",emoji:"ğŸ§"},{value:"monkey",label:"å°çŒ´å­",emoji:"ğŸµ"}],p=e.ref("bunny"),k=e.ref(!1),h=e.ref({narrative_pace:null,interaction_density:null,educational_focus:null,language_style:null,plot_complexity:null,ending_style:null}),j=[{value:"relaxed",label:"è½»æ¾èˆ’ç¼“",emoji:"ğŸ˜Œ"},{value:"lively",label:"ç´§å‡‘æ´»æ³¼",emoji:"ğŸµ"},{value:"progressive",label:"å¾ªåºæ¸è¿›",emoji:"ğŸ“–"}],x=[{value:"minimal",label:"å°‘äº’åŠ¨",emoji:"ğŸ“•"},{value:"moderate",label:"é€‚ä¸­",emoji:"ğŸ“—"},{value:"intensive",label:"å¤šäº’åŠ¨",emoji:"ğŸ“˜"}],$=[{value:"cognitive",label:"è®¤çŸ¥å­¦ä¹ ",emoji:"ğŸ§ "},{value:"behavioral",label:"è¡Œä¸ºå¼•å¯¼",emoji:"ğŸŒŸ"},{value:"emotional",label:"æƒ…æ„ŸåŸ¹å…»",emoji:"ğŸ’•"},{value:"imaginative",label:"æƒ³è±¡æ¿€å‘",emoji:"ğŸ¦‹"}],C=[{value:"simple",label:"ç®€æ´ç›´ç™½",emoji:"ğŸ’¬"},{value:"rhythmic",label:"éŸµå¾‹æŠ¼éŸµ",emoji:"ğŸ¶"},{value:"onomatopoeia",label:"æ‹Ÿå£°ä¸°å¯Œ",emoji:"ğŸ””"},{value:"repetitive",label:"é‡å¤å¼ºåŒ–",emoji:"ğŸ”„"}],O=[{value:"linear",label:"ç®€å•çº¿æ€§",emoji:"â¡ï¸"},{value:"twist",label:"æœ‰å°æ³¢æŠ˜",emoji:"ğŸŒŠ"},{value:"ensemble",label:"å¤šè§’è‰²",emoji:"ğŸ‘¥"}],q=[{value:"warm",label:"æ¸©é¦¨æ”¶å°¾",emoji:"ğŸ¤—"},{value:"open",label:"å¼€æ”¾æƒ³è±¡",emoji:"âœ¨"},{value:"summary",label:"æ€»ç»“å›é¡¾",emoji:"ğŸ“"}];function S(e,a){h.value[e]===a?h.value[e]=null:h.value[e]=a}const T=e.computed(()=>{const e=Object.values(h.value).filter(e=>null!==e);return 0===e.length?"å¯é€‰ï¼Œç”± AI æ™ºèƒ½æ¨æ–­":`å·²é€‰ ${e.length} é¡¹`}),A=e.ref(!1),P=e.ref({time_atmosphere:null,scene_environment:null,emotional_tone:null,composition_style:null,lighting_effect:null}),E=[{value:"morning",label:"æ¸…æ™¨é˜³å…‰",emoji:"ğŸŒ…"},{value:"afternoon",label:"åˆåæ¸©æš–",emoji:"â˜€ï¸"},{value:"sunset",label:"å‚æ™šé‡‘è‰²",emoji:"ğŸŒ‡"},{value:"night",label:"å¤œæ™šæ˜Ÿç©º",emoji:"ğŸŒ™"},{value:"dreamy",label:"æ¢¦å¹»é­”æ³•",emoji:"âœ¨"}],B=[{value:"indoor",label:"æ¸©é¦¨å®¤å†…",emoji:"ğŸ "},{value:"garden",label:"èŠ±å›­æˆ·å¤–",emoji:"ğŸŒ·"},{value:"forest",label:"æ£®æ—æ¢é™©",emoji:"ğŸŒ²"},{value:"beach",label:"æµ·è¾¹æ²™æ»©",emoji:"ğŸ–ï¸"},{value:"clouds",label:"äº‘ç«¯æ¢¦å¢ƒ",emoji:"â˜ï¸"}],K=[{value:"cheerful",label:"æ¬¢ä¹æ´»æ³¼",emoji:"ğŸ˜„"},{value:"cozy",label:"æ¸©é¦¨ç”œèœœ",emoji:"ğŸ¥°"},{value:"playful",label:"è½»æ¾å¹½é»˜",emoji:"ğŸ˜œ"},{value:"peaceful",label:"å®‰é™ç¥¥å’Œ",emoji:"ğŸ˜Š"},{value:"curious",label:"ç¥ç§˜å¥½å¥‡",emoji:"ğŸ¤”"}],M=[{value:"close_up",label:"è§’è‰²ç‰¹å†™",emoji:"ğŸ‘¤"},{value:"panorama",label:"å…¨æ™¯åœºæ™¯",emoji:"ğŸï¸"},{value:"interaction",label:"äº’åŠ¨åœºæ™¯",emoji:"ğŸ¤"},{value:"narrative",label:"æ•…äº‹å™äº‹",emoji:"ğŸ“½ï¸"}],I=[{value:"soft_natural",label:"æŸ”å’Œè‡ªç„¶",emoji:"ğŸŒ¤ï¸"},{value:"warm_sunlight",label:"æ¸©æš–é˜³å…‰",emoji:"ğŸŒ"},{value:"dreamy_glow",label:"æ¢¦å¹»å…‰æ™•",emoji:"ğŸ’«"},{value:"cozy_lamp",label:"å¤œç¯æ¸©é¦¨",emoji:"ğŸª”"}];function D(e,a){P.value[e]===a?P.value[e]=null:P.value[e]=a}const L=e.computed(()=>{const e=Object.values(P.value).filter(e=>null!==e);return 0===e.length?"å¯é€‰ï¼Œç”± AI æ™ºèƒ½æ¨æ–­":`å·²é€‰ ${e.length} é¡¹`}),z=e.computed(()=>Object.values(h.value).some(e=>null!==e)),F=e.computed(()=>Object.values(P.value).some(e=>null!==e));function G(e,a){const o={narrative_pace:j,interaction_density:x,educational_focus:$,language_style:C,plot_complexity:O,ending_style:q}[e],n=null==o?void 0:o.find(e=>e.value===a);return n?`${n.emoji} ${n.label}`:a}function U(e,a){const o={time_atmosphere:E,scene_environment:B,emotional_tone:K,composition_style:M,lighting_effect:I}[e],n=null==o?void 0:o.find(e=>e.value===a);return n?`${n.emoji} ${n.label}`:a}const V=e.ref([]),H={Kore:"ğŸŒŸ",Leda:"ğŸŒ™",Aoede:"âœ¨",Puck:"ğŸˆ",Charon:"ğŸ“–",Fenrir:"ğŸ­"},J={Kore:{scenes:"æ—¥å¸¸äº²å­é˜…è¯»ã€ç¡å‰æ•…äº‹",stories:"æ¸©é¦¨æˆé•¿ã€å‹è°Šå†’é™©ã€æƒ…æ„Ÿå¯è’™"},Leda:{scenes:"ç¡å‰å®‰æŠšã€åˆä¼‘é™ªä¼´",stories:"æ™šå®‰æ•…äº‹ã€æ¢¦å¢ƒå¥‡é‡ã€è‡ªç„¶ç«¥è¯"},Aoede:{scenes:"è®¤çŸ¥å­¦ä¹ ã€ä¹ æƒ¯å…»æˆ",stories:"ç§‘æ™®çŸ¥è¯†ã€ç”Ÿæ´»å¸¸è¯†ã€å®‰å…¨æ•™è‚²"},Puck:{scenes:"æ¸¸æˆäº’åŠ¨ã€æˆ·å¤–æ´»åŠ¨",stories:"æç¬‘å†’é™©ã€åŠ¨ç‰©è¶£äº‹ã€é­”æ³•ä¸–ç•Œ"},Charon:{scenes:"ç»å…¸æ•…äº‹ã€ä¼ ç»Ÿæ–‡åŒ–",stories:"å¯“è¨€æ•…äº‹ã€å†å²ä¼ è¯´ã€åè‘—æ”¹ç¼–"},Fenrir:{scenes:"è§’è‰²æ‰®æ¼”ã€æˆå‰§è¡¨æ¼”",stories:"è‹±é›„å†’é™©ã€å¥‡å¹»æ—…ç¨‹ã€ç¥è¯ä¼ è¯´"}},N=e.ref("Kore");function Q(e){return J[e]||{scenes:"é€šç”¨åœºæ™¯",stories:"å„ç±»æ•…äº‹"}}const R=["Kore","Leda","Aoede","Puck","Charon","Fenrir"];function W(e){return H[e]||"ğŸµ"}const X=e.ref(null),Y=e.ref(null),Z=e.ref(null);function ee(a){if(X.value===a)return void ae();ae(),Y.value=a;const o=V.value.find(e=>e.id===a);if(!(null==o?void 0:o.preview_url))return e.index.showToast({title:"é¢„è§ˆæš‚ä¸å¯ç”¨",icon:"none"}),void(Y.value=null);!function(a,o){const n=e.index.createInnerAudioContext();Z.value=n,n.src=a,n.onCanplay(()=>{Y.value=null,X.value=o}),n.onEnded(()=>{X.value=null}),n.onError(a=>{console.error("[playPreviewAudio] æ’­æ”¾é”™è¯¯:",a),X.value=null,Y.value=null,e.index.showToast({title:"æ’­æ”¾å¤±è´¥",icon:"none"})}),n.play()}(o.preview_url,a)}function ae(){Z.value&&(Z.value.stop(),Z.value.destroy(),Z.value=null),X.value=null}const oe=e.ref(!1),ne=e.ref(0),le=e.ref(""),re=e.ref(""),te=e.ref(!1),ie=e.ref(""),se=e.computed(()=>{var e;return(null==(e=r.currentChild)?void 0:e.name)||"å®è´"}),ue=e.computed(()=>{let e=me[g.value]||[];if(v.value&&v.value.id){if(!e.some(e=>e.id===v.value.id)){const a=e.find(e=>e.id===v.value.id);a&&(e=[a,...e])}}return e});e.computed(()=>{const e=c.find(e=>e.id===g.value);return(null==e?void 0:e.name)||""});const de=e.computed(()=>{for(const e of Object.values(y)){const a=e.find(e=>e.value===f.value);if(a)return a.label}return""}),ce=e.computed(()=>{var e;return(null==(e=w.find(e=>e.value===p.value))?void 0:e.label)||""}),ge=e.computed(()=>{const e=V.value.find(e=>e.id===N.value);return e?`${W(e.id)} ${e.name_cn}`:""}),ve=e.computed(()=>0!==d.value||!!v.value),me={habit:[{id:"brush_teeth",name:"åˆ·ç‰™",subcategory:"å«ç”Ÿä¹ æƒ¯",age_range:[24,48],keywords:[]},{id:"wash_hands",name:"æ´—æ‰‹",subcategory:"å«ç”Ÿä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"take_bath",name:"æ´—æ¾¡",subcategory:"å«ç”Ÿä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"wash_face",name:"æ´—è„¸",subcategory:"å«ç”Ÿä¹ æƒ¯",age_range:[18,36],keywords:[]},{id:"cut_nails",name:"å‰ªæŒ‡ç”²",subcategory:"å«ç”Ÿä¹ æƒ¯",age_range:[24,48],keywords:[]},{id:"get_dressed",name:"è‡ªå·±ç©¿è¡£",subcategory:"ç”Ÿæ´»è‡ªç†",age_range:[24,48],keywords:[]},{id:"potty_training",name:"ä¸Šå•æ‰€",subcategory:"ç”Ÿæ´»è‡ªç†",age_range:[18,36],keywords:[]},{id:"eat_independently",name:"è‡ªå·±åƒé¥­",subcategory:"ç”Ÿæ´»è‡ªç†",age_range:[18,36],keywords:[]},{id:"tie_shoes",name:"ç³»é‹å¸¦",subcategory:"ç”Ÿæ´»è‡ªç†",age_range:[48,72],keywords:[]},{id:"no_picky_eating",name:"ä¸æŒ‘é£Ÿ",subcategory:"é¥®é£Ÿä¹ æƒ¯",age_range:[24,48],keywords:[]},{id:"drink_water",name:"å¤šå–æ°´",subcategory:"å¥åº·ä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"eat_breakfast",name:"åƒæ—©é¤",subcategory:"é¥®é£Ÿä¹ æƒ¯",age_range:[24,60],keywords:[]},{id:"bedtime",name:"æŒ‰æ—¶ç¡è§‰",subcategory:"ä½œæ¯ä¹ æƒ¯",age_range:[24,60],keywords:[]},{id:"nap_time",name:"åˆç¡",subcategory:"ä½œæ¯ä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"early_rise",name:"æ—©èµ·",subcategory:"ä½œæ¯ä¹ æƒ¯",age_range:[24,60],keywords:[]},{id:"tidy_up",name:"æ”¶æ‹¾ç©å…·",subcategory:"æ•´ç†ä¹ æƒ¯",age_range:[30,60],keywords:[]},{id:"clean_room",name:"æ•´ç†æˆ¿é—´",subcategory:"æ•´ç†ä¹ æƒ¯",age_range:[36,72],keywords:[]},{id:"exercise",name:"çˆ±è¿åŠ¨",subcategory:"å¥åº·ä¹ æƒ¯",age_range:[24,60],keywords:[]},{id:"screen_time",name:"å°‘çœ‹ç”µè§†",subcategory:"å¥åº·ä¹ æƒ¯",age_range:[30,72],keywords:[]},{id:"protect_eyes",name:"ä¿æŠ¤çœ¼ç›",subcategory:"å¥åº·ä¹ æƒ¯",age_range:[30,72],keywords:[]}],cognition:[{id:"colors",name:"è®¤è¯†é¢œè‰²",subcategory:"åŸºç¡€è®¤çŸ¥",age_range:[12,36],keywords:[]},{id:"shapes",name:"è®¤è¯†å½¢çŠ¶",subcategory:"åŸºç¡€è®¤çŸ¥",age_range:[18,36],keywords:[]},{id:"numbers",name:"è®¤è¯†æ•°å­—",subcategory:"æ•°å­¦å¯è’™",age_range:[24,48],keywords:[]},{id:"counting",name:"å­¦æ•°æ•°",subcategory:"æ•°å­¦å¯è’™",age_range:[24,48],keywords:[]},{id:"add_subtract",name:"åŠ å‡æ³•",subcategory:"æ•°å­¦å¯è’™",age_range:[48,72],keywords:[]},{id:"letters",name:"è®¤è¯†å­—æ¯",subcategory:"è¯­è¨€å¯è’™",age_range:[30,60],keywords:[]},{id:"chinese_chars",name:"è®¤è¯†æ±‰å­—",subcategory:"è¯­è¨€å¯è’™",age_range:[36,72],keywords:[]},{id:"big_small",name:"å¤§å’Œå°",subcategory:"å¯¹æ¯”è®¤çŸ¥",age_range:[12,36],keywords:[]},{id:"long_short",name:"é•¿å’ŒçŸ­",subcategory:"å¯¹æ¯”è®¤çŸ¥",age_range:[18,36],keywords:[]},{id:"up_down",name:"ä¸Šå’Œä¸‹",subcategory:"æ–¹ä½è®¤çŸ¥",age_range:[18,36],keywords:[]},{id:"left_right",name:"å·¦å’Œå³",subcategory:"æ–¹ä½è®¤çŸ¥",age_range:[36,60],keywords:[]},{id:"animals",name:"è®¤è¯†åŠ¨ç‰©",subcategory:"è‡ªç„¶è®¤çŸ¥",age_range:[12,48],keywords:[]},{id:"plants",name:"è®¤è¯†æ¤ç‰©",subcategory:"è‡ªç„¶è®¤çŸ¥",age_range:[24,48],keywords:[]},{id:"fruits",name:"è®¤è¯†æ°´æœ",subcategory:"ç”Ÿæ´»è®¤çŸ¥",age_range:[12,36],keywords:[]},{id:"vegetables",name:"è®¤è¯†è”¬èœ",subcategory:"ç”Ÿæ´»è®¤çŸ¥",age_range:[18,48],keywords:[]},{id:"weather",name:"è®¤è¯†å¤©æ°”",subcategory:"è‡ªç„¶è®¤çŸ¥",age_range:[24,48],keywords:[]},{id:"seasons",name:"å››å­£å˜åŒ–",subcategory:"è‡ªç„¶è®¤çŸ¥",age_range:[30,60],keywords:[]},{id:"time_clock",name:"è®¤è¯†æ—¶é—´",subcategory:"åŸºç¡€è®¤çŸ¥",age_range:[42,72],keywords:[]},{id:"body_parts",name:"è®¤è¯†èº«ä½“",subcategory:"è‡ªæˆ‘è®¤çŸ¥",age_range:[12,36],keywords:[]},{id:"vehicles",name:"äº¤é€šå·¥å…·",subcategory:"ç”Ÿæ´»è®¤çŸ¥",age_range:[18,48],keywords:[]}],emotion:[{id:"happy",name:"å¼€å¿ƒå¿«ä¹",subcategory:"ç§¯ææƒ…ç»ª",age_range:[18,48],keywords:[]},{id:"sad",name:"é¢å¯¹éš¾è¿‡",subcategory:"æƒ…ç»ªè®¤çŸ¥",age_range:[24,48],keywords:[]},{id:"angry",name:"ç®¡ç†ç”Ÿæ°”",subcategory:"æƒ…ç»ªç®¡ç†",age_range:[24,60],keywords:[]},{id:"scared",name:"å…‹æœå®³æ€•",subcategory:"æƒ…ç»ªç®¡ç†",age_range:[24,60],keywords:[]},{id:"jealous",name:"ä¸è¦å«‰å¦’",subcategory:"æƒ…ç»ªç®¡ç†",age_range:[30,60],keywords:[]},{id:"lonely",name:"é¢å¯¹å­¤ç‹¬",subcategory:"æƒ…ç»ªè®¤çŸ¥",age_range:[30,60],keywords:[]},{id:"worried",name:"ä¸è¦æ‹…å¿ƒ",subcategory:"æƒ…ç»ªç®¡ç†",age_range:[30,60],keywords:[]},{id:"self_love",name:"çˆ±è‡ªå·±",subcategory:"è‡ªæˆ‘è®¤åŒ",age_range:[24,60],keywords:[]},{id:"confidence",name:"è‡ªä¿¡å¿ƒ",subcategory:"è‡ªæˆ‘è®¤åŒ",age_range:[30,72],keywords:[]},{id:"unique_me",name:"ç‹¬ç‰¹çš„æˆ‘",subcategory:"è‡ªæˆ‘è®¤åŒ",age_range:[30,60],keywords:[]},{id:"bravery",name:"å‹‡æ•¢",subcategory:"å“æ ¼åŸ¹å…»",age_range:[24,60],keywords:[]},{id:"patience",name:"è€å¿ƒç­‰å¾…",subcategory:"å“æ ¼åŸ¹å…»",age_range:[24,60],keywords:[]},{id:"gratitude",name:"æ„Ÿæ©",subcategory:"å“æ ¼åŸ¹å…»",age_range:[30,72],keywords:[]},{id:"honesty",name:"è¯šå®",subcategory:"å“æ ¼åŸ¹å…»",age_range:[30,72],keywords:[]},{id:"love_family",name:"çˆ±å®¶äºº",subcategory:"äº²æƒ…",age_range:[18,48],keywords:[]},{id:"new_sibling",name:"è¿æ¥å¼Ÿå¦¹",subcategory:"å®¶åº­å˜åŒ–",age_range:[24,60],keywords:[]},{id:"miss_parents",name:"æƒ³å¿µçˆ¸å¦ˆ",subcategory:"åˆ†ç¦»ç„¦è™‘",age_range:[24,48],keywords:[]},{id:"move_house",name:"æ¬æ–°å®¶",subcategory:"ç”Ÿæ´»å˜åŒ–",age_range:[30,60],keywords:[]},{id:"pet_love",name:"çˆ±æŠ¤å® ç‰©",subcategory:"ç”Ÿå‘½æ•™è‚²",age_range:[24,60],keywords:[]},{id:"say_goodbye",name:"å­¦ä¼šå‘Šåˆ«",subcategory:"ç”Ÿå‘½æ•™è‚²",age_range:[36,72],keywords:[]}],adventure:[{id:"space_travel",name:"å¤ªç©ºå†’é™©",subcategory:"ç§‘å¹»å†’é™©",age_range:[36,72],keywords:[]},{id:"moon_landing",name:"ç™»æœˆä¹‹æ—…",subcategory:"ç§‘å¹»å†’é™©",age_range:[36,72],keywords:[]},{id:"ocean_explore",name:"æµ·åº•æ¢é™©",subcategory:"è‡ªç„¶æ¢ç´¢",age_range:[30,60],keywords:[]},{id:"forest_adventure",name:"æ£®æ—å¥‡é‡",subcategory:"è‡ªç„¶æ¢ç´¢",age_range:[24,60],keywords:[]},{id:"jungle_safari",name:"ä¸›æ—æ¢é™©",subcategory:"è‡ªç„¶æ¢ç´¢",age_range:[30,60],keywords:[]},{id:"dinosaur_world",name:"æé¾™ä¸–ç•Œ",subcategory:"å²å‰å†’é™©",age_range:[30,72],keywords:[]},{id:"ice_age",name:"å†°æ²³æ—¶ä»£",subcategory:"å²å‰å†’é™©",age_range:[36,72],keywords:[]},{id:"magic_kingdom",name:"é­”æ³•ç‹å›½",subcategory:"å¥‡å¹»å†’é™©",age_range:[30,72],keywords:[]},{id:"treasure_hunt",name:"å¯»å®æ¢é™©",subcategory:"æ¢é™©æ•…äº‹",age_range:[36,72],keywords:[]},{id:"super_hero",name:"å°è¶…äºº",subcategory:"è‹±é›„æ•…äº‹",age_range:[30,72],keywords:[]},{id:"time_travel",name:"æ—¶å…‰æ—…è¡Œ",subcategory:"å¥‡å¹»å†’é™©",age_range:[42,72],keywords:[]},{id:"island_explore",name:"å°å²›æ¢é™©",subcategory:"æ¢é™©æ•…äº‹",age_range:[30,60],keywords:[]},{id:"mountain_climb",name:"ç™»å±±å†’é™©",subcategory:"è‡ªç„¶æ¢ç´¢",age_range:[36,72],keywords:[]},{id:"desert_journey",name:"æ²™æ¼ ä¹‹æ—…",subcategory:"è‡ªç„¶æ¢ç´¢",age_range:[36,72],keywords:[]},{id:"dream_adventure",name:"æ¢¦å¢ƒå¥‡é‡",subcategory:"å¥‡å¹»å†’é™©",age_range:[24,60],keywords:[]},{id:"fairy_tale",name:"ç«¥è¯ç‹å›½",subcategory:"ç»å…¸ç«¥è¯",age_range:[24,60],keywords:[]},{id:"detective_story",name:"å°ä¾¦æ¢",subcategory:"ç›Šæ™ºæ•…äº‹",age_range:[42,72],keywords:[]},{id:"robot_friend",name:"æœºå™¨äººæœ‹å‹",subcategory:"ç§‘å¹»æ•…äº‹",age_range:[30,72],keywords:[]},{id:"cloud_journey",name:"äº‘ç«¯æ—…è¡Œ",subcategory:"å¥‡å¹»å†’é™©",age_range:[24,48],keywords:[]},{id:"rainbow_bridge",name:"å½©è™¹æ¡¥",subcategory:"å¥‡å¹»å†’é™©",age_range:[24,48],keywords:[]}],social:[{id:"sharing",name:"å­¦ä¼šåˆ†äº«",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[24,60],keywords:[]},{id:"making_friends",name:"äº¤æœ‹å‹",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[24,60],keywords:[]},{id:"greeting",name:"æ‰“æ‹›å‘¼",subcategory:"ç¤¼ä»ªä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"say_sorry",name:"è¯´å¯¹ä¸èµ·",subcategory:"ç¤¼ä»ªä¹ æƒ¯",age_range:[24,60],keywords:[]},{id:"say_thanks",name:"è¯´è°¢è°¢",subcategory:"ç¤¼ä»ªä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"say_please",name:"è¯´è¯·",subcategory:"ç¤¼ä»ªä¹ æƒ¯",age_range:[18,48],keywords:[]},{id:"take_turns",name:"è½®æµç­‰å¾…",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[24,48],keywords:[]},{id:"teamwork",name:"å›¢é˜Ÿåˆä½œ",subcategory:"åä½œèƒ½åŠ›",age_range:[36,72],keywords:[]},{id:"help_others",name:"å¸®åŠ©åˆ«äºº",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[24,60],keywords:[]},{id:"listen_others",name:"å€¾å¬ä»–äºº",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[30,60],keywords:[]},{id:"respect_others",name:"å°Šé‡ä»–äºº",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[30,72],keywords:[]},{id:"no_bully",name:"åå¯¹æ¬ºè´Ÿ",subcategory:"å®‰å…¨æ•™è‚²",age_range:[36,72],keywords:[]},{id:"resolve_conflict",name:"è§£å†³å†²çª",subcategory:"ç¤¾äº¤æŠ€èƒ½",age_range:[36,72],keywords:[]},{id:"family_roles",name:"å®¶åº­æˆå‘˜",subcategory:"å®¶åº­è®¤çŸ¥",age_range:[18,48],keywords:[]},{id:"occupations",name:"è®¤è¯†èŒä¸š",subcategory:"ç¤¾ä¼šè®¤çŸ¥",age_range:[30,60],keywords:[]},{id:"community",name:"ç¤¾åŒºç”Ÿæ´»",subcategory:"ç¤¾ä¼šè®¤çŸ¥",age_range:[36,72],keywords:[]},{id:"school_life",name:"å¹¼å„¿å›­",subcategory:"ç¤¾ä¼šé€‚åº”",age_range:[30,60],keywords:[]},{id:"first_day_school",name:"å…¥å­¦ç¬¬ä¸€å¤©",subcategory:"ç¤¾ä¼šé€‚åº”",age_range:[36,72],keywords:[]},{id:"public_manners",name:"å…¬å…±åœºåˆ",subcategory:"ç¤¼ä»ªä¹ æƒ¯",age_range:[30,60],keywords:[]},{id:"table_manners",name:"é¤æ¡Œç¤¼ä»ª",subcategory:"ç¤¼ä»ªä¹ æƒ¯",age_range:[30,60],keywords:[]}],festival:[{id:"spring_festival",name:"æ˜¥èŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"lantern_festival",name:"å…ƒå®µèŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"qingming",name:"æ¸…æ˜èŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[36,72],keywords:[]},{id:"dragon_boat",name:"ç«¯åˆèŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[30,72],keywords:[]},{id:"qixi",name:"ä¸ƒå¤•èŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[36,72],keywords:[]},{id:"mid_autumn",name:"ä¸­ç§‹èŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"double_ninth",name:"é‡é˜³èŠ‚",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[36,72],keywords:[]},{id:"winter_solstice",name:"å†¬è‡³",subcategory:"ä¸­å›½èŠ‚æ—¥",age_range:[30,72],keywords:[]},{id:"childrens_day",name:"å„¿ç«¥èŠ‚",subcategory:"ç‰¹æ®ŠèŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"teachers_day",name:"æ•™å¸ˆèŠ‚",subcategory:"æ„Ÿæ©èŠ‚æ—¥",age_range:[36,72],keywords:[]},{id:"mothers_day",name:"æ¯äº²èŠ‚",subcategory:"æ„Ÿæ©èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"fathers_day",name:"çˆ¶äº²èŠ‚",subcategory:"æ„Ÿæ©èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"grandparents_day",name:"ç¥–çˆ¶æ¯èŠ‚",subcategory:"æ„Ÿæ©èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"birthday",name:"ç”Ÿæ—¥å¿«ä¹",subcategory:"ç‰¹æ®Šæ—¥å­",age_range:[18,72],keywords:[]},{id:"new_year",name:"æ–°å¹´æ„¿æœ›",subcategory:"ç‰¹æ®Šæ—¥å­",age_range:[24,72],keywords:[]},{id:"christmas",name:"åœ£è¯èŠ‚",subcategory:"è¥¿æ–¹èŠ‚æ—¥",age_range:[24,72],keywords:[]},{id:"thanksgiving",name:"æ„Ÿæ©èŠ‚",subcategory:"æ„Ÿæ©èŠ‚æ—¥",age_range:[30,72],keywords:[]},{id:"halloween",name:"ä¸‡åœ£èŠ‚",subcategory:"è¥¿æ–¹èŠ‚æ—¥",age_range:[36,72],keywords:[]},{id:"easter",name:"å¤æ´»èŠ‚",subcategory:"è¥¿æ–¹èŠ‚æ—¥",age_range:[30,72],keywords:[]},{id:"arbor_day",name:"æ¤æ ‘èŠ‚",subcategory:"ç‰¹æ®ŠèŠ‚æ—¥",age_range:[30,72],keywords:[]}]},_e={brush_teeth:"ğŸ¦·",wash_hands:"ğŸ§¼",take_bath:"ğŸ›",wash_face:"ğŸ§´",cut_nails:"ğŸ’…",get_dressed:"ğŸ‘•",potty_training:"ğŸš½",eat_independently:"ğŸ¥„",tie_shoes:"ğŸ‘Ÿ",no_picky_eating:"ğŸ¥¦",drink_water:"ğŸ’§",eat_breakfast:"ğŸ³",bedtime:"ğŸ›ï¸",nap_time:"ğŸ˜´",early_rise:"ğŸŒ…",tidy_up:"ğŸ§¹",clean_room:"ğŸ ",exercise:"ğŸƒ",screen_time:"ğŸ“º",protect_eyes:"ğŸ‘ï¸",colors:"ğŸ¨",shapes:"ğŸ”·",numbers:"ğŸ”¢",counting:"ğŸ§®",add_subtract:"â•",letters:"ğŸ”¤",chinese_chars:"ğŸ“",big_small:"ğŸ“",long_short:"ğŸ“",up_down:"â¬†ï¸",left_right:"â†”ï¸",animals:"ğŸ¦",plants:"ğŸŒ±",fruits:"ğŸ",vegetables:"ğŸ¥¬",weather:"ğŸŒ¤ï¸",seasons:"ğŸ‚",time_clock:"ğŸ•",body_parts:"ğŸ–ï¸",vehicles:"ğŸš—",happy:"ğŸ˜Š",sad:"ğŸ˜¢",angry:"ğŸ˜ ",scared:"ğŸ˜¨",jealous:"ğŸ˜’",lonely:"ğŸ˜”",worried:"ğŸ˜Ÿ",self_love:"ğŸ’–",confidence:"ğŸ’ª",unique_me:"ğŸŒŸ",bravery:"ğŸ¦¸",patience:"â³",gratitude:"ğŸ™",honesty:"ğŸ¤",love_family:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§",new_sibling:"ğŸ‘¶",miss_parents:"ğŸ’•",move_house:"ğŸ¡",pet_love:"ğŸ¾",say_goodbye:"ğŸ‘‹",space_travel:"ğŸš€",moon_landing:"ğŸŒ™",ocean_explore:"ğŸŒŠ",forest_adventure:"ğŸŒ²",jungle_safari:"ğŸ¦’",dinosaur_world:"ğŸ¦•",ice_age:"ğŸ§Š",magic_kingdom:"ğŸ°",treasure_hunt:"ğŸ—ºï¸",super_hero:"ğŸ¦¸â€â™‚ï¸",time_travel:"â°",island_explore:"ğŸï¸",mountain_climb:"â›°ï¸",desert_journey:"ğŸœï¸",dream_adventure:"ğŸ’­",fairy_tale:"ğŸ§š",detective_story:"ğŸ”",robot_friend:"ğŸ¤–",cloud_journey:"â˜ï¸",rainbow_bridge:"ğŸŒˆ",sharing:"ğŸ¤",making_friends:"ğŸ‘­",greeting:"ğŸ‘‹",say_sorry:"ğŸ™‡",say_thanks:"ğŸ’",say_please:"ğŸ™",take_turns:"ğŸ”„",teamwork:"ğŸ‘¥",help_others:"ğŸ¤—",listen_others:"ğŸ‘‚",respect_others:"ğŸ«¡",no_bully:"ğŸ›¡ï¸",resolve_conflict:"ğŸ¤œ",family_roles:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",occupations:"ğŸ‘¨â€âš•ï¸",community:"ğŸ˜ï¸",school_life:"ğŸ’",first_day_school:"ğŸ«",public_manners:"ğŸš‡",table_manners:"ğŸ½ï¸",spring_festival:"ğŸ§§",lantern_festival:"ğŸ®",qingming:"ğŸŒ¾",dragon_boat:"ğŸ²",qixi:"ğŸ‹",mid_autumn:"ğŸ¥®",double_ninth:"ğŸ”ï¸",winter_solstice:"ğŸ¥Ÿ",childrens_day:"ğŸˆ",teachers_day:"ğŸ“–",mothers_day:"ğŸ’",fathers_day:"ğŸ‘”",grandparents_day:"ğŸ‘´",birthday:"ğŸ‚",new_year:"ğŸ†",christmas:"ğŸ„",thanksgiving:"ğŸ¦ƒ",halloween:"ğŸƒ",easter:"ğŸ°",arbor_day:"ğŸŒ³",brushing_teeth:"ğŸ¦·",washing_hands:"ğŸ§¼",eating_vegetables:"ğŸ¥¦",sleeping_early:"ğŸ›ï¸",tidying_up:"ğŸ§¹",polite_words:"ğŸ’¬",family:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§",managing_anger:"ğŸ˜Œ",courage:"ğŸ’ª"};function ye(e,a){t.value=!1,"smart"===e?(te.value=!0,ie.value=a||"",v.value={id:"smart_custom",name:"æ™ºèƒ½åˆ›ä½œ",subcategory:"è‡ªå®šä¹‰",age_range:[12,72],keywords:[]},d.value=1):(te.value=!1,d.value=0)}function be(){if(d.value>0){if(te.value&&1===d.value)return t.value=!0,te.value=!1,ie.value="",void(d.value=0);d.value--}}async function fe(){ve.value&&(console.log(`[ç»˜æœ¬-æ­¥éª¤] ç‚¹å‡»ä¸‹ä¸€æ­¥ï¼Œå½“å‰æ­¥éª¤: ${d.value}`),1===d.value&&console.log(`[ç»˜æœ¬-æ­¥éª¤] é£æ ¼è®¾ç½®å®Œæˆï¼Œart_style=${f.value}, protagonist=${p.value}, voice=${N.value}`),d.value<2?(d.value++,console.log(`[ç»˜æœ¬-æ­¥éª¤] è¿›å…¥æ­¥éª¤ ${d.value}`)):(console.log(`[ç»˜æœ¬-æ­¥éª¤] å¼€å§‹åˆ›ä½œï¼Œæœ€ç»ˆ art_style=${f.value}`),await async function(){if(!v.value||!r.currentChild)return;oe.value=!0,ne.value=0,le.value="",re.value="";try{const a=r.currentChildAgeMonths||36,o={child_name:r.currentChild.name,age_months:a,theme_topic:v.value.id,theme_category:g.value,art_style:f.value,protagonist:{animal:p.value},voice_id:N.value};te.value&&ie.value&&(o.creation_mode="smart",o.custom_prompt=ie.value,console.log("[ç»˜æœ¬] æ™ºèƒ½åˆ›ä½œæ¨¡å¼ï¼Œæè¿°:",ie.value));const l=Object.fromEntries(Object.entries(h.value).filter(([e,a])=>null!==a));Object.keys(l).length>0&&(o.story_enhancement=l,console.log("[ç»˜æœ¬] æ•…äº‹å¢å¼ºå‚æ•°:",l));const t=Object.fromEntries(Object.entries(P.value).filter(([e,a])=>null!==a));Object.keys(t).length>0&&(o.visual_enhancement=t,console.log("[ç»˜æœ¬] è§†è§‰å¢å¼ºå‚æ•°:",t)),console.log("[ç»˜æœ¬] å‘èµ·å¼‚æ­¥ç”Ÿæˆè¯·æ±‚ï¼Œå®Œæ•´å‚æ•°:",JSON.stringify(o,null,2)),console.log("[ç»˜æœ¬] art_style å‚æ•°:",o.art_style,"(selectedArtStyle.value =",f.value,")");const i=(await n.generatePictureBookAsync(o)).task_id;console.log("[ç»˜æœ¬] è·å–åˆ° task_id:",i);const s=120,u=3e3;let d=0,c=0;const m=5,_=async()=>{for(;d<s;){d++,console.log(`[ç»˜æœ¬] è½®è¯¢çŠ¶æ€ ç¬¬ ${d} æ¬¡`);try{const e=await n.getPictureBookTaskStatus(i);if(c=0,console.log("[ç»˜æœ¬] çŠ¶æ€:",e.status,"è¿›åº¦:",e.progress,"é˜¶æ®µ:",e.stage,"æ¶ˆæ¯:",e.message),ne.value=e.progress||Math.min(2*d,95),le.value=e.stage||"",re.value=e.message||"","completed"===e.status){if(ne.value=100,e.result)return console.log("[ç»˜æœ¬] ä» result è·å–å®Œæ•´æ•°æ®"),e.result;if(e.content_id){console.log("[ç»˜æœ¬] ä» content_id è·å–è¯¦æƒ…:",e.content_id);return await n.getContentDetail(e.content_id)}return null}if("failed"===e.status){const a=e.error||"ç»˜æœ¬ç”Ÿæˆå¤±è´¥";console.error("[ç»˜æœ¬] ç”Ÿæˆå¤±è´¥:",a);const o=new Error(a);throw o.isBusinessError=!0,o}await new Promise(e=>setTimeout(e,u))}catch(e){if(e.isBusinessError)throw e;if(c++,console.error(`[ç»˜æœ¬] è½®è¯¢å‡ºé”™ (${c}/${m}):`,(null==e?void 0:e.errMsg)||(null==e?void 0:e.message)||e),c>=m)throw new Error("ç½‘ç»œè¿æ¥ä¸ç¨³å®šï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•");d<s&&await new Promise(e=>setTimeout(e,2*u))}}throw new Error("ç”Ÿæˆè¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•")},y=await _();if(!y)throw new Error("æœªè·å–åˆ°ç»˜æœ¬æ•°æ®");console.log("[ç»˜æœ¬] ç”ŸæˆæˆåŠŸ:",y.id),e.index.setStorageSync("temp_picture_book",y),oe.value=!1,y.id?e.index.redirectTo({url:`/pages/play/picture-book?id=${y.id}`}):e.index.redirectTo({url:"/pages/play/picture-book?fromGenerate=1"})}catch(a){console.error("[ç»˜æœ¬] ç”Ÿæˆå¤±è´¥:",a),oe.value=!1,e.index.showToast({title:a.message||"ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none",duration:3e3})}}()))}function we(){e.index.navigateBack()}return e.onMounted(()=>{const a=e.index.getSystemInfoSync();i.value=a.statusBarHeight||20,s.value=i.value+44,async function(){var e;try{const a=await n.getTTSVoices();if((null==(e=a.providers)?void 0:e.length)>0){const e=a.providers[0].voices;V.value=e.sort((e,a)=>{const o=R.indexOf(e.id),n=R.indexOf(a.id);return(-1===o?999:o)-(-1===n?999:n)}),a.default_voice&&(N.value=a.default_voice)}}catch(a){console.error("[loadVoiceOptions] åŠ è½½éŸ³è‰²åˆ—è¡¨å¤±è´¥:",a),V.value=[{id:"Kore",name:"Kore",name_cn:"æ¸©æš–å¥³å£°",gender:"female",style:"æ¸©æš–äº²åˆ‡",description:"é€‚åˆå„¿ç«¥æ•…äº‹ï¼ˆæ¨èï¼‰",recommended:!0,preview_url:"https://your-api-domain.com/media/voice-preview/gemini/Kore.wav"}]}}()}),e.onLoad(e=>{if("smart"===(null==e?void 0:e.creation_mode)&&(null==e?void 0:e.custom_prompt))return t.value=!1,te.value=!0,ie.value=decodeURIComponent(e.custom_prompt),e.art_style&&(f.value=e.art_style),e.protagonist&&(p.value=e.protagonist),e.voice_id&&(N.value=e.voice_id),v.value={id:"smart_custom",name:"æ™ºèƒ½åˆ›ä½œ",subcategory:"è‡ªå®šä¹‰",age_range:[12,72],keywords:[]},void setTimeout(()=>{d.value=2},100);if(null==e?void 0:e.theme){t.value=!1,te.value=!1;const a=e.theme;return void setTimeout(()=>{for(const e of Object.keys(me)){const o=me[e].find(e=>e.id===a);if(o){g.value=e,v.value=o;break}}},100)}t.value=!0}),e.onUnmounted(()=>{ae()}),(a,o)=>{var n;return e.e({a:e.o(we),b:i.value+"px",c:s.value+"px",d:t.value},t.value?{e:e.o(ye),f:e.p({"content-type":"picture_book"})}:e.e({g:e.f(u,(a,o,n)=>e.e({a:d.value>o},d.value>o?{}:{b:e.t(o+1)},{c:e.t(a.name),d:a.id,e:d.value>=o?1:"",f:d.value>o?1:""})),h:0===d.value},0===d.value?{i:e.t(se.value),j:e.f(c,(a,o,n)=>({a:e.t(a.icon),b:e.t(a.name),c:a.id,d:g.value===a.id?1:"",e:e.o(e=>g.value=a.id,a.id)})),k:e.f(ue.value,(a,o,n)=>{var l,r,t,i;return e.e({a:e.t((i=a.id,_e[i]||"ğŸ“–")),b:e.t(a.name),c:(null==(l=v.value)?void 0:l.id)===a.id},(null==(r=v.value)||r.id,a.id,{}),{d:a.id,e:(null==(t=v.value)?void 0:t.id)===a.id?1:"",f:e.o(e=>function(e){v.value=e}(a),a.id)})})}:{},{l:1===d.value},1===d.value?{m:e.t(se.value),n:e.f(m,(a,o,n)=>({a:e.t(a.icon),b:e.t(a.name),c:a.id,d:_.value===a.id?1:"",e:e.o(e=>function(e){var a;const o=_.value;_.value=e;const n=(null==(a=m.find(a=>a.id===e))?void 0:a.name)||e;console.log(`[ç»˜æœ¬-é£æ ¼é€‰æ‹©] åˆ†ç±»åˆ‡æ¢: ${o} â†’ ${e} (${n})ï¼Œå½“å‰é€‰ä¸­é£æ ¼: ${f.value}`)}(a.id),a.id)})),o:e.f(b.value,(a,o,n)=>e.e({a:e.n(a.cssClass||a.value),b:e.t(a.icon),c:e.t(a.label),d:e.t(a.desc),e:f.value===a.value},(f.value,a.value,{}),{f:a.recommended},(a.recommended,{}),{g:a.value,h:f.value===a.value?1:"",i:a.recommended?1:"",j:e.o(e=>function(e){const a=f.value;f.value=e;let o=e;for(const n of Object.values(y)){const a=n.find(a=>a.value===e);if(a){o=a.label;break}}console.log(`[ç»˜æœ¬-é£æ ¼é€‰æ‹©] è‰ºæœ¯é£æ ¼å˜æ›´: ${a} â†’ ${e} (${o})`)}(a.value),a.value)})),p:e.f(w,(a,o,n)=>e.e({a:e.t(a.emoji),b:p.value===a.value},(p.value,a.value,{}),{c:e.t(a.label),d:a.value,e:p.value===a.value?1:"",f:e.o(e=>p.value=a.value,a.value)})),q:e.f(V.value,(a,o,n)=>e.e({a:e.t(W(a.id)),b:X.value===a.id},(X.value,a.id,{}),{c:e.t(a.name_cn),d:e.t(a.name),e:a.recommended},(a.recommended,{}),{f:e.t("female"===a.gender?"å¥³å£°":"male"===a.gender?"ç”·å£°":"ä¸­æ€§"),g:e.n(a.gender),h:e.t(Q(a.id).scenes),i:e.t(Q(a.id).stories),j:Y.value===a.id},(Y.value===a.id||(X.value,a.id),{}),{k:X.value===a.id,l:Y.value===a.id?1:"",m:e.o(e=>ee(a.id),a.id),n:N.value===a.id},(N.value,a.id,{}),{o:a.id,p:N.value===a.id?1:"",q:X.value===a.id?1:"",r:a.gender,s:e.o(e=>{return o=a.id,void(N.value=o);var o},a.id)})),r:e.t(T.value),s:k.value?1:"",t:e.o(e=>k.value=!k.value),v:e.f(j,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:h.value.narrative_pace===a.value?1:"",e:e.o(e=>S("narrative_pace",a.value),a.value)})),w:e.f(x,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:h.value.interaction_density===a.value?1:"",e:e.o(e=>S("interaction_density",a.value),a.value)})),x:e.f($,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:h.value.educational_focus===a.value?1:"",e:e.o(e=>S("educational_focus",a.value),a.value)})),y:e.f(C,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:h.value.language_style===a.value?1:"",e:e.o(e=>S("language_style",a.value),a.value)})),z:e.f(O,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:h.value.plot_complexity===a.value?1:"",e:e.o(e=>S("plot_complexity",a.value),a.value)})),A:e.f(q,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:h.value.ending_style===a.value?1:"",e:e.o(e=>S("ending_style",a.value),a.value)})),B:k.value?1:"",C:k.value?1:"",D:e.t(L.value),E:A.value?1:"",F:e.o(e=>A.value=!A.value),G:e.f(E,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:P.value.time_atmosphere===a.value?1:"",e:e.o(e=>D("time_atmosphere",a.value),a.value)})),H:e.f(B,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:P.value.scene_environment===a.value?1:"",e:e.o(e=>D("scene_environment",a.value),a.value)})),I:e.f(K,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:P.value.emotional_tone===a.value?1:"",e:e.o(e=>D("emotional_tone",a.value),a.value)})),J:e.f(M,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:P.value.composition_style===a.value?1:"",e:e.o(e=>D("composition_style",a.value),a.value)})),K:e.f(I,(a,o,n)=>({a:e.t(a.emoji),b:e.t(a.label),c:a.value,d:P.value.lighting_effect===a.value?1:"",e:e.o(e=>D("lighting_effect",a.value),a.value)})),L:A.value?1:"",M:A.value?1:""}:{},{N:2===d.value},2===d.value?e.e({O:te.value},te.value?{P:e.t(ie.value)}:{Q:e.t(null==(n=v.value)?void 0:n.name)},{R:e.t(se.value),S:e.t(de.value),T:e.t(ce.value),U:e.t(ge.value),V:z.value},z.value?e.e({W:h.value.narrative_pace},h.value.narrative_pace?{X:e.t(G("narrative_pace",h.value.narrative_pace))}:{},{Y:h.value.interaction_density},h.value.interaction_density?{Z:e.t(G("interaction_density",h.value.interaction_density))}:{},{aa:h.value.educational_focus},h.value.educational_focus?{ab:e.t(G("educational_focus",h.value.educational_focus))}:{},{ac:h.value.language_style},h.value.language_style?{ad:e.t(G("language_style",h.value.language_style))}:{},{ae:h.value.plot_complexity},h.value.plot_complexity?{af:e.t(G("plot_complexity",h.value.plot_complexity))}:{},{ag:h.value.ending_style},h.value.ending_style?{ah:e.t(G("ending_style",h.value.ending_style))}:{}):{},{ai:F.value},F.value?e.e({aj:P.value.time_atmosphere},P.value.time_atmosphere?{ak:e.t(U("time_atmosphere",P.value.time_atmosphere))}:{},{al:P.value.scene_environment},P.value.scene_environment?{am:e.t(U("scene_environment",P.value.scene_environment))}:{},{an:P.value.emotional_tone},P.value.emotional_tone?{ao:e.t(U("emotional_tone",P.value.emotional_tone))}:{},{ap:P.value.composition_style},P.value.composition_style?{aq:e.t(U("composition_style",P.value.composition_style))}:{},{ar:P.value.lighting_effect},P.value.lighting_effect?{as:e.t(U("lighting_effect",P.value.lighting_effect))}:{}):{}):{}),{at:!t.value},t.value?{}:e.e({av:d.value>0},d.value>0?{aw:e.o(be)}:{},{ax:e.t(2===d.value?"å¼€å§‹åˆ›ä½œ":"ä¸‹ä¸€æ­¥"),ay:ve.value?"":1,az:e.o(fe)}),{aA:oe.value},oe.value?{aB:e.p({progress:ne.value,stage:le.value,message:re.value,type:"book"})}:{})}}}),i=e._export_sfc(t,[["__scopeId","data-v-1c324e0f"]]);wx.createPage(i);
