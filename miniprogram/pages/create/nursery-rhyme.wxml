<view class="page-container data-v-c28ef552"><view class="cosmos-bg data-v-c28ef552"><view class="stars-layer data-v-c28ef552"></view><view class="nebula nebula-1 data-v-c28ef552"></view><view class="nebula nebula-2 data-v-c28ef552"></view></view><view class="nav-bar data-v-c28ef552" style="{{'padding-top:' + b}}"><view class="nav-content data-v-c28ef552"><view class="back-btn data-v-c28ef552" bindtap="{{a}}"><text class="data-v-c28ef552">‹</text></view><text class="nav-title data-v-c28ef552">创作儿歌</text><view class="nav-right data-v-c28ef552"></view></view></view><view class="nav-placeholder data-v-c28ef552" style="{{'height:' + c}}"></view><scroll-view wx:if="{{d}}" class="main-scroll data-v-c28ef552" scroll-y><creation-mode-selector wx:if="{{f}}" class="data-v-c28ef552" bindselect="{{e}}" u-i="c28ef552-0" bind:__l="__l" u-p="{{f}}"/></scroll-view><scroll-view wx:else class="main-scroll data-v-c28ef552" scroll-y><view class="steps-indicator data-v-c28ef552"><view wx:for="{{g}}" wx:for-item="step" wx:key="d" class="{{['step-item', 'data-v-c28ef552', step.e && 'active', step.f && 'done']}}"><view class="step-dot data-v-c28ef552"><text wx:if="{{step.a}}" class="data-v-c28ef552">✓</text><text wx:else class="data-v-c28ef552">{{step.b}}</text></view><text class="step-name data-v-c28ef552">{{step.c}}</text></view><view class="step-line data-v-c28ef552"></view></view><view wx:if="{{h}}" class="step-content animate-fadeIn data-v-c28ef552"><text class="step-title data-v-c28ef552">选择儿歌主题</text><text class="step-desc data-v-c28ef552">为 {{i}} 谱写一首动听旋律</text><scroll-view class="category-scroll data-v-c28ef552" scroll-x enhanced show-scrollbar="{{false}}"><view class="category-track data-v-c28ef552"><view wx:for="{{j}}" wx:for-item="cat" wx:key="c" class="{{['category-chip', 'data-v-c28ef552', cat.d && 'active']}}" bindtap="{{cat.e}}"><text class="chip-icon data-v-c28ef552">{{cat.a}}</text><text class="chip-name data-v-c28ef552">{{cat.b}}</text></view></view></scroll-view><view class="theme-grid data-v-c28ef552"><view wx:for="{{k}}" wx:for-item="theme" wx:key="d" class="{{['theme-card', 'data-v-c28ef552', theme.e && 'selected']}}" bindtap="{{theme.f}}"><text class="theme-emoji data-v-c28ef552">{{theme.a}}</text><text class="theme-name data-v-c28ef552">{{theme.b}}</text><view wx:if="{{theme.c}}" class="theme-check data-v-c28ef552">✓</view></view></view></view><view wx:if="{{l}}" class="step-content animate-fadeIn data-v-c28ef552"><view class="style-header data-v-c28ef552"><text class="step-title data-v-c28ef552">风格设置</text><text class="step-desc data-v-c28ef552">为 {{m}} 选择音乐氛围和人声类型</text></view><view wx:if="{{n}}" class="scene-presets-section data-v-c28ef552"><view class="section-header data-v-c28ef552"><view class="section-icon-wrap preset data-v-c28ef552"><text class="section-icon data-v-c28ef552">✨</text></view><text class="section-title data-v-c28ef552">场景预设</text><text class="section-hint data-v-c28ef552">一键设置推荐参数</text></view><scroll-view class="presets-scroll data-v-c28ef552" scroll-x enhanced show-scrollbar="{{false}}"><view class="presets-track data-v-c28ef552"><view wx:for="{{o}}" wx:for-item="preset" wx:key="c" class="{{['preset-card', 'data-v-c28ef552', preset.d && 'selected']}}" bindtap="{{preset.e}}"><text class="preset-icon data-v-c28ef552">{{preset.a}}</text><text class="preset-name data-v-c28ef552">{{preset.b}}</text></view></view></scroll-view></view><view class="style-sections data-v-c28ef552"><view class="style-section music-section data-v-c28ef552"><view class="section-header-compact data-v-c28ef552"><text class="section-icon-mini data-v-c28ef552">🎵</text><text class="section-title-compact data-v-c28ef552">音乐氛围</text></view><view class="mood-compact-grid data-v-c28ef552"><view wx:for="{{p}}" wx:for-item="mood" wx:key="c" class="{{['mood-compact-card', 'data-v-c28ef552', mood.d, mood.e]}}" bindtap="{{mood.f}}"><text class="mood-compact-icon data-v-c28ef552">{{mood.a}}</text><text class="mood-compact-name data-v-c28ef552">{{mood.b}}</text></view></view></view><view class="style-section vocal-section data-v-c28ef552"><view class="section-header-compact data-v-c28ef552"><text class="section-icon-mini data-v-c28ef552">🎤</text><text class="section-title-compact data-v-c28ef552">人声类型</text></view><view class="vocal-compact-grid data-v-c28ef552"><view wx:for="{{q}}" wx:for-item="vocal" wx:key="c" class="{{['vocal-compact-card', 'data-v-c28ef552', vocal.d && 'selected']}}" bindtap="{{vocal.e}}"><text class="vocal-compact-icon data-v-c28ef552">{{vocal.a}}</text><text class="vocal-compact-name data-v-c28ef552">{{vocal.b}}</text></view></view></view><nursery-rhyme-advanced wx:if="{{s}}" class="data-v-c28ef552" bindupdateModelValue="{{r}}" u-i="c28ef552-1" bind:__l="__l" u-p="{{s}}"/></view></view><view wx:if="{{t}}" class="step-content animate-fadeIn data-v-c28ef552"><text class="step-title data-v-c28ef552">确认创作</text><text class="step-desc data-v-c28ef552">检查设置，开始生成专属儿歌</text><view class="confirm-card confirm-basic data-v-c28ef552"><view class="confirm-card-header data-v-c28ef552"><text class="card-header-icon data-v-c28ef552">🎵</text><text class="card-header-title data-v-c28ef552">基础信息</text></view><view wx:if="{{v}}" class="confirm-item smart-prompt-item data-v-c28ef552"><text class="confirm-label data-v-c28ef552">创作描述</text><text class="confirm-value smart-prompt data-v-c28ef552">{{w}}</text></view><view wx:else class="confirm-item data-v-c28ef552"><text class="confirm-label data-v-c28ef552">儿歌主题</text><text class="confirm-value theme-value data-v-c28ef552">{{x}}</text></view><view class="confirm-item data-v-c28ef552"><text class="confirm-label data-v-c28ef552">主人公</text><text class="confirm-value data-v-c28ef552">{{y}}</text></view><view class="confirm-item data-v-c28ef552"><text class="confirm-label data-v-c28ef552">音乐氛围</text><text class="confirm-value highlight-value data-v-c28ef552">{{z}}</text></view><view class="confirm-item data-v-c28ef552"><text class="confirm-label data-v-c28ef552">人声类型</text><text class="confirm-value highlight-value data-v-c28ef552">{{A}}</text></view></view><view wx:if="{{B}}" class="confirm-card confirm-advanced data-v-c28ef552"><view class="confirm-card-header data-v-c28ef552"><text class="card-header-icon data-v-c28ef552">⚙️</text><text class="card-header-title data-v-c28ef552">创作设置</text><text class="card-header-count data-v-c28ef552">{{C}}项</text></view><view class="confirm-tags data-v-c28ef552"><view wx:for="{{D}}" wx:for-item="item" wx:key="d" class="confirm-tag data-v-c28ef552"><text class="tag-icon data-v-c28ef552">{{item.a}}</text><text class="tag-label data-v-c28ef552">{{item.b}}</text><text class="tag-value data-v-c28ef552">{{item.c}}</text></view></view></view><view class="confirm-tip data-v-c28ef552"><text class="tip-icon data-v-c28ef552">💡</text><text class="tip-text data-v-c28ef552">生成过程大约需要 1-2 分钟，请耐心等待</text></view></view></scroll-view><view wx:if="{{E}}" class="bottom-bar data-v-c28ef552"><view wx:if="{{F}}" class="btn-secondary data-v-c28ef552" bindtap="{{G}}"><text class="data-v-c28ef552">上一步</text></view><view class="{{['btn-primary', 'data-v-c28ef552', I && 'disabled']}}" bindtap="{{J}}"><text class="data-v-c28ef552">{{H}}</text></view></view><generating-progress wx:if="{{K}}" class="data-v-c28ef552" u-i="c28ef552-2" bind:__l="__l" u-p="{{L}}"/></view>