<view class="page-container data-v-1c324e0f"><view class="decor-bg data-v-1c324e0f"><view class="decor-shape shape-1 data-v-1c324e0f"></view><view class="decor-shape shape-2 data-v-1c324e0f"></view></view><view class="nav-bar data-v-1c324e0f" style="{{'padding-top:' + b}}"><view class="nav-content data-v-1c324e0f"><view class="back-btn data-v-1c324e0f" bindtap="{{a}}"><text class="data-v-1c324e0f">‹</text></view><text class="nav-title data-v-1c324e0f">创作绘本</text><view class="nav-right data-v-1c324e0f"></view></view></view><view class="nav-placeholder data-v-1c324e0f" style="{{'height:' + c}}"></view><scroll-view wx:if="{{d}}" class="main-scroll data-v-1c324e0f" scroll-y><creation-mode-selector wx:if="{{f}}" class="data-v-1c324e0f" bindselect="{{e}}" u-i="1c324e0f-0" bind:__l="__l" u-p="{{f}}"/></scroll-view><scroll-view wx:else class="main-scroll data-v-1c324e0f" scroll-y><view class="steps-indicator data-v-1c324e0f"><view wx:for="{{g}}" wx:for-item="step" wx:key="d" class="{{['step-item', 'data-v-1c324e0f', step.e && 'active', step.f && 'done']}}"><view class="step-dot data-v-1c324e0f"><text wx:if="{{step.a}}" class="data-v-1c324e0f">✓</text><text wx:else class="data-v-1c324e0f">{{step.b}}</text></view><text class="step-name data-v-1c324e0f">{{step.c}}</text></view><view class="step-line data-v-1c324e0f"></view></view><view wx:if="{{h}}" class="step-content animate-fadeIn data-v-1c324e0f"><text class="step-title data-v-1c324e0f">选择故事主题</text><text class="step-desc data-v-1c324e0f">为 {{i}} 挑选一段奇妙冒险</text><scroll-view class="category-scroll data-v-1c324e0f" scroll-x enhanced show-scrollbar="{{false}}"><view class="category-track data-v-1c324e0f"><view wx:for="{{j}}" wx:for-item="cat" wx:key="c" class="{{['category-chip', 'data-v-1c324e0f', cat.d && 'active']}}" bindtap="{{cat.e}}"><text class="chip-icon data-v-1c324e0f">{{cat.a}}</text><text class="chip-name data-v-1c324e0f">{{cat.b}}</text></view></view></scroll-view><view class="theme-grid data-v-1c324e0f"><view wx:for="{{k}}" wx:for-item="theme" wx:key="d" class="{{['theme-card', 'data-v-1c324e0f', theme.e && 'selected']}}" bindtap="{{theme.f}}"><text class="theme-emoji data-v-1c324e0f">{{theme.a}}</text><text class="theme-name data-v-1c324e0f">{{theme.b}}</text><view wx:if="{{theme.c}}" class="theme-check data-v-1c324e0f">✓</view></view></view></view><view wx:if="{{l}}" class="step-content animate-fadeIn data-v-1c324e0f"><view class="style-header data-v-1c324e0f"><text class="step-title data-v-1c324e0f">画面风格</text><text class="step-desc data-v-1c324e0f">为 {{m}} 选择喜欢的绘本风格</text></view><view class="style-sections data-v-1c324e0f"><view class="style-section art-section data-v-1c324e0f"><view class="section-header data-v-1c324e0f"><view class="section-icon-wrap data-v-1c324e0f"><text class="section-icon data-v-1c324e0f">🎨</text></view><text class="section-title data-v-1c324e0f">艺术风格</text></view><view class="style-category-tabs data-v-1c324e0f"><view wx:for="{{n}}" wx:for-item="cat" wx:key="c" class="{{['style-tab-item', 'data-v-1c324e0f', cat.d && 'active']}}" bindtap="{{cat.e}}"><text class="style-tab-icon data-v-1c324e0f">{{cat.a}}</text><text class="style-tab-name data-v-1c324e0f">{{cat.b}}</text></view></view><view class="art-style-carousel data-v-1c324e0f"><view wx:for="{{o}}" wx:for-item="style" wx:key="g" class="{{['art-card', 'data-v-1c324e0f', style.h && 'selected', style.i && 'recommended']}}" bindtap="{{style.j}}"><view class="{{['art-card-bg', 'data-v-1c324e0f', style.a]}}"></view><view class="art-card-content data-v-1c324e0f"><text class="art-icon data-v-1c324e0f">{{style.b}}</text><text class="art-name data-v-1c324e0f">{{style.c}}</text><text class="art-desc data-v-1c324e0f">{{style.d}}</text></view><view wx:if="{{style.e}}" class="art-check data-v-1c324e0f"><text class="data-v-1c324e0f">✓</text></view><view wx:if="{{style.f}}" class="art-badge data-v-1c324e0f">推荐</view></view></view></view><view class="style-section character-section data-v-1c324e0f"><view class="section-header data-v-1c324e0f"><view class="section-icon-wrap bunny data-v-1c324e0f"><text class="section-icon data-v-1c324e0f">🐰</text></view><view class="section-header-text data-v-1c324e0f"><text class="section-title data-v-1c324e0f">故事主角</text><text class="section-hint data-v-1c324e0f">选择陪伴宝贝的小动物</text></view></view><view class="character-carousel data-v-1c324e0f"><view wx:for="{{p}}" wx:for-item="animal" wx:key="d" class="{{['character-card', 'data-v-1c324e0f', animal.e && 'selected']}}" bindtap="{{animal.f}}"><view class="char-glow data-v-1c324e0f"></view><view class="character-avatar-wrap data-v-1c324e0f"><view class="character-avatar data-v-1c324e0f"><text class="char-emoji data-v-1c324e0f">{{animal.a}}</text></view><view wx:if="{{animal.b}}" class="char-star data-v-1c324e0f">⭐</view></view><view class="char-stage data-v-1c324e0f"></view><text class="char-name data-v-1c324e0f">{{animal.c}}</text></view></view></view><view class="style-section voice-section data-v-1c324e0f"><view class="section-header data-v-1c324e0f"><view class="section-icon-wrap voice data-v-1c324e0f"><text class="section-icon data-v-1c324e0f">🔊</text></view><view class="section-header-text data-v-1c324e0f"><text class="section-title data-v-1c324e0f">旁白音色</text><text class="section-hint data-v-1c324e0f">选择讲故事的声音</text></view></view><view class="voice-list data-v-1c324e0f"><view wx:for="{{q}}" wx:for-item="voice" wx:key="o" class="{{['voice-card', 'data-v-1c324e0f', voice.p && 'selected', voice.q && 'playing', voice.r]}}" bindtap="{{voice.s}}"><view class="voice-avatar data-v-1c324e0f"><text class="voice-emoji data-v-1c324e0f">{{voice.a}}</text><view wx:if="{{voice.b}}" class="voice-waves playing data-v-1c324e0f"><view class="wave data-v-1c324e0f"></view><view class="wave data-v-1c324e0f"></view><view class="wave data-v-1c324e0f"></view></view></view><view class="voice-content data-v-1c324e0f"><view class="voice-name-row data-v-1c324e0f"><text class="voice-name data-v-1c324e0f">{{voice.c}}</text><text class="voice-id data-v-1c324e0f">{{voice.d}}</text><text wx:if="{{voice.e}}" class="voice-badge data-v-1c324e0f">推荐</text><text class="{{['voice-gender-tag', 'data-v-1c324e0f', voice.g]}}">{{voice.f}}</text></view><view class="voice-detail-row data-v-1c324e0f"><text class="voice-detail-label data-v-1c324e0f">🎯</text><text class="voice-detail-text data-v-1c324e0f">{{voice.h}}</text></view><view class="voice-detail-row data-v-1c324e0f"><text class="voice-detail-label data-v-1c324e0f">📚</text><text class="voice-detail-text data-v-1c324e0f">{{voice.i}}</text></view></view><view class="{{['voice-preview-btn', 'data-v-1c324e0f', voice.l && 'loading']}}" catchtap="{{voice.m}}"><text wx:if="{{voice.j}}" class="preview-icon data-v-1c324e0f">⏳</text><text wx:elif="{{voice.k}}" class="preview-icon playing data-v-1c324e0f">⏹</text><text wx:else class="preview-icon data-v-1c324e0f">▶</text></view><view wx:if="{{voice.n}}" class="voice-check data-v-1c324e0f"><text class="data-v-1c324e0f">✓</text></view></view></view></view><view class="{{['enhancement-panel', 'data-v-1c324e0f', C && 'expanded']}}"><view class="panel-header data-v-1c324e0f" bindtap="{{t}}"><view class="panel-header-left data-v-1c324e0f"><view class="panel-icon-wrap story data-v-1c324e0f"><text class="panel-icon data-v-1c324e0f">📖</text></view><view class="panel-header-text data-v-1c324e0f"><text class="panel-title data-v-1c324e0f">故事风格</text><text class="panel-hint data-v-1c324e0f">{{r}}</text></view></view><view class="{{['panel-arrow', 'data-v-1c324e0f', s && 'expanded']}}"><text class="data-v-1c324e0f">›</text></view></view><view class="{{['panel-content', 'data-v-1c324e0f', B && 'expanded']}}"><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">叙事节奏</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{v}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">互动密度</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{w}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">教育侧重</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{x}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">语言风格</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{y}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">情节复杂度</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{z}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">结局风格</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{A}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view></view></view><view class="{{['enhancement-panel', 'data-v-1c324e0f', M && 'expanded']}}"><view class="panel-header data-v-1c324e0f" bindtap="{{F}}"><view class="panel-header-left data-v-1c324e0f"><view class="panel-icon-wrap visual data-v-1c324e0f"><text class="panel-icon data-v-1c324e0f">🎬</text></view><view class="panel-header-text data-v-1c324e0f"><text class="panel-title data-v-1c324e0f">画面设置</text><text class="panel-hint data-v-1c324e0f">{{D}}</text></view></view><view class="{{['panel-arrow', 'data-v-1c324e0f', E && 'expanded']}}"><text class="data-v-1c324e0f">›</text></view></view><view class="{{['panel-content', 'data-v-1c324e0f', L && 'expanded']}}"><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">时间氛围</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{G}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">场景环境</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{H}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">情感基调</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{I}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">画面构图</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{J}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view><view class="enhancement-group data-v-1c324e0f"><text class="group-label data-v-1c324e0f">光照效果</text><view class="option-cards data-v-1c324e0f"><view wx:for="{{K}}" wx:for-item="opt" wx:key="c" class="{{['option-card', 'data-v-1c324e0f', opt.d && 'selected']}}" bindtap="{{opt.e}}"><text class="option-emoji data-v-1c324e0f">{{opt.a}}</text><text class="option-label data-v-1c324e0f">{{opt.b}}</text></view></view></view></view></view></view></view><view wx:if="{{N}}" class="step-content animate-fadeIn data-v-1c324e0f"><text class="step-title data-v-1c324e0f">确认创作</text><text class="step-desc data-v-1c324e0f">检查设置，开始生成专属绘本</text><view class="confirm-card data-v-1c324e0f"><view wx:if="{{O}}" class="confirm-item smart-prompt-item data-v-1c324e0f"><text class="confirm-label data-v-1c324e0f">创作描述</text><text class="confirm-value smart-prompt data-v-1c324e0f">{{P}}</text></view><view wx:else class="confirm-item data-v-1c324e0f"><text class="confirm-label data-v-1c324e0f">故事主题</text><text class="confirm-value data-v-1c324e0f">{{Q}}</text></view><view class="confirm-item data-v-1c324e0f"><text class="confirm-label data-v-1c324e0f">主人公</text><text class="confirm-value data-v-1c324e0f">{{R}}</text></view><view class="confirm-item data-v-1c324e0f"><text class="confirm-label data-v-1c324e0f">艺术风格</text><text class="confirm-value data-v-1c324e0f">{{S}}</text></view><view class="confirm-item data-v-1c324e0f"><text class="confirm-label data-v-1c324e0f">故事主角</text><text class="confirm-value data-v-1c324e0f">{{T}}</text></view><view class="confirm-item data-v-1c324e0f"><text class="confirm-label data-v-1c324e0f">旁白音色</text><text class="confirm-value data-v-1c324e0f">{{U}}</text></view></view><view wx:if="{{V}}" class="confirm-card enhance-card data-v-1c324e0f"><view class="enhance-card-header data-v-1c324e0f"><text class="enhance-icon data-v-1c324e0f">📖</text><text class="enhance-title data-v-1c324e0f">故事风格</text></view><view class="enhance-tags data-v-1c324e0f"><view wx:if="{{W}}" class="enhance-tag data-v-1c324e0f"><text class="data-v-1c324e0f">{{X}}</text></view><view wx:if="{{Y}}" class="enhance-tag data-v-1c324e0f"><text class="data-v-1c324e0f">{{Z}}</text></view><view wx:if="{{aa}}" class="enhance-tag data-v-1c324e0f"><text class="data-v-1c324e0f">{{ab}}</text></view><view wx:if="{{ac}}" class="enhance-tag data-v-1c324e0f"><text class="data-v-1c324e0f">{{ad}}</text></view><view wx:if="{{ae}}" class="enhance-tag data-v-1c324e0f"><text class="data-v-1c324e0f">{{af}}</text></view><view wx:if="{{ag}}" class="enhance-tag data-v-1c324e0f"><text class="data-v-1c324e0f">{{ah}}</text></view></view></view><view wx:if="{{ai}}" class="confirm-card enhance-card data-v-1c324e0f"><view class="enhance-card-header data-v-1c324e0f"><text class="enhance-icon data-v-1c324e0f">🎬</text><text class="enhance-title data-v-1c324e0f">画面设置</text></view><view class="enhance-tags data-v-1c324e0f"><view wx:if="{{aj}}" class="enhance-tag visual data-v-1c324e0f"><text class="data-v-1c324e0f">{{ak}}</text></view><view wx:if="{{al}}" class="enhance-tag visual data-v-1c324e0f"><text class="data-v-1c324e0f">{{am}}</text></view><view wx:if="{{an}}" class="enhance-tag visual data-v-1c324e0f"><text class="data-v-1c324e0f">{{ao}}</text></view><view wx:if="{{ap}}" class="enhance-tag visual data-v-1c324e0f"><text class="data-v-1c324e0f">{{aq}}</text></view><view wx:if="{{ar}}" class="enhance-tag visual data-v-1c324e0f"><text class="data-v-1c324e0f">{{as}}</text></view></view></view><view class="confirm-tip data-v-1c324e0f"><text class="tip-icon data-v-1c324e0f">💡</text><text class="tip-text data-v-1c324e0f">生成过程大约需要 1-2 分钟，请耐心等待</text></view></view></scroll-view><view wx:if="{{at}}" class="bottom-bar data-v-1c324e0f"><view wx:if="{{av}}" class="btn-secondary data-v-1c324e0f" bindtap="{{aw}}"><text class="data-v-1c324e0f">上一步</text></view><view class="{{['btn-primary', 'data-v-1c324e0f', ay && 'disabled']}}" bindtap="{{az}}"><text class="data-v-1c324e0f">{{ax}}</text></view></view><generating-progress wx:if="{{aA}}" class="data-v-1c324e0f" u-i="1c324e0f-1" bind:__l="__l" u-p="{{aB}}"/></view>