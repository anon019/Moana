"use strict";const e=require("../../common/vendor.js"),a=require("../../config/nurseryRhymeConfig.js"),l=e.defineComponent({__name:"NurseryRhymeAdvanced",props:{modelValue:{}},emits:["update:modelValue"],setup(l,{emit:u}){const t=l,o=u,v=e.ref(!1),n=e.ref({music:!1,vocal:!1,instruments:!1,effects:!1,lyrics:!1,structure:!1,language:!1,personal:!1,suno:!1}),i=a.MUSIC_GENRES,r=a.VOCAL_RANGES,c=a.VOCAL_EMOTIONS,s=a.VOCAL_TECHNIQUES,d=a.INSTRUMENTS_BY_FAMILY,f=a.SOUND_EFFECTS,p=a.SONG_STRUCTURES,_=a.ACTION_TYPES,m=a.LANGUAGES,g=a.CULTURAL_STYLES,y=a.FAVORITE_COLORS,b=a.EDUCATIONAL_FOCUS,S=a.SUNO_PRESETS,E=a.COMMON_NEGATIVE_TAGS,O=e.computed(()=>t.modelValue),A=e.ref([]),C=e.ref("balanced"),T=e.computed(()=>a.getTempoHint(O.value.tempo||100)),V=e.computed(()=>a.getEnergyHint(O.value.energy_level||5)),N=e.computed(()=>a.getLyricComplexityHint(O.value.lyric_complexity||5)),h=e.computed(()=>a.getRepetitionHint(O.value.repetition_level||6));function R(){v.value=!v.value}function L(e){n.value[e]=!n.value[e]}function U(e){return a.PARAM_HELP[e]||""}function I(e,a){o("update:modelValue",{...t.modelValue,[e]:a})}function x(e,a){const l=t.modelValue[e]||[];let u;u=l.indexOf(a)>-1?l.filter(e=>e!==a):[...l,a],o("update:modelValue",{...t.modelValue,[e]:u})}return e.watch(()=>t.modelValue.negative_tags,e=>{e&&(A.value=e.split(",").map(e=>e.trim()).filter(Boolean))},{immediate:!0}),(a,l)=>e.e({a:v.value?1:"",b:e.o(R),c:v.value},v.value?e.e({d:n.value.music?1:"",e:e.o(e=>L("music")),f:n.value.music},n.value.music?{g:e.t(U("music_genre")),h:e.f(e.unref(i),(a,l,u)=>({a:e.t(a.group),b:e.f(a.options,(a,l,u)=>({a:e.t(a.label),b:a.value,c:O.value.music_genre===a.value?1:"",d:e.o(e=>I("music_genre",a.value),a.value)})),c:a.group})),i:e.t(O.value.tempo||100),j:e.t(T.value),k:e.t(U("tempo")),l:O.value.tempo||100,m:e.o(e=>I("tempo",e.detail.value)),n:e.t(O.value.energy_level||5),o:e.t(V.value),p:e.t(U("energy_level")),q:O.value.energy_level||5,r:e.o(e=>I("energy_level",e.detail.value))}:{},{s:n.value.vocal?1:"",t:e.o(e=>L("vocal")),v:n.value.vocal},n.value.vocal?{w:e.f(e.unref(r),(a,l,u)=>({a:e.t(a.label),b:e.t(a.description),c:a.value,d:O.value.vocal_range===a.value?1:"",e:e.o(e=>I("vocal_range",a.value),a.value)})),x:e.f(e.unref(c),(a,l,u)=>({a:e.t(a.label),b:a.value,c:O.value.vocal_emotion===a.value?1:"",d:e.o(e=>I("vocal_emotion",a.value),a.value)})),y:e.f(e.unref(s),(a,l,u)=>({a:e.t(a.label),b:a.value,c:O.value.vocal_style===a.value?1:"",d:e.o(e=>I("vocal_style",a.value),a.value)}))}:{},{z:n.value.instruments?1:"",A:e.o(e=>L("instruments")),B:n.value.instruments},n.value.instruments?{C:e.f(e.unref(d),(a,l,u)=>({a:e.t(a.icon),b:e.t(a.group),c:e.f(a.options,(a,l,u)=>{var t;return{a:e.t(a.label),b:a.value,c:(null==(t=O.value.instruments)?void 0:t.includes(a.value))?1:"",d:e.o(e=>x("instruments",a.value),a.value)}}),d:a.group}))}:{},{D:n.value.effects?1:"",E:e.o(e=>L("effects")),F:n.value.effects},n.value.effects?{G:e.f(e.unref(f),(a,l,u)=>({a:e.t(a.icon),b:e.t(a.group),c:e.f(a.options,(a,l,u)=>{var t;return{a:e.t(a.label),b:a.value,c:(null==(t=O.value.sound_effects)?void 0:t.includes(a.value))?1:"",d:e.o(e=>x("sound_effects",a.value),a.value)}}),d:a.group}))}:{},{H:n.value.lyrics?1:"",I:e.o(e=>L("lyrics")),J:n.value.lyrics},n.value.lyrics?{K:e.t(N.value),L:e.t(U("lyric_complexity")),M:O.value.lyric_complexity||5,N:e.o(e=>I("lyric_complexity",e.detail.value)),O:e.t(h.value),P:e.t(U("repetition_level")),Q:O.value.repetition_level||6,R:e.o(e=>I("repetition_level",e.detail.value))}:{},{S:n.value.structure?1:"",T:e.o(e=>L("structure")),U:n.value.structure},n.value.structure?{V:e.f(e.unref(p),(a,l,u)=>({a:e.t(a.description),b:e.t(a.label),c:a.value,d:O.value.song_structure===a.value?1:"",e:e.o(e=>I("song_structure",a.value),a.value)})),W:e.f(e.unref(_),(a,l,u)=>({a:e.t(a.icon),b:e.t(a.label),c:a.value,d:O.value.action_types===a.value?1:"",e:e.o(e=>I("action_types",a.value),a.value)}))}:{},{X:n.value.language?1:"",Y:e.o(e=>L("language")),Z:n.value.language},n.value.language?{aa:e.f(e.unref(m),(a,l,u)=>({a:e.f(a.options,(a,l,u)=>({a:e.t(a.label),b:a.value,c:O.value.language===a.value?1:"",d:e.o(e=>I("language",a.value),a.value)})),b:a.group})),ab:e.f(e.unref(g),(a,l,u)=>({a:e.t(a.group),b:e.f(a.options,(a,l,u)=>({a:e.t(a.label),b:a.value,c:O.value.cultural_style===a.value?1:"",d:e.o(e=>I("cultural_style",a.value),a.value)})),c:a.group}))}:{},{ac:n.value.personal?1:"",ad:e.o(e=>L("personal")),ae:n.value.personal},n.value.personal?{af:e.f(e.unref(b),(a,l,u)=>({a:e.t(a.group),b:e.f(a.options,(a,l,u)=>({a:e.t(a.label),b:a.value,c:O.value.educational_focus===a.value?1:"",d:e.o(e=>I("educational_focus",a.value),a.value)})),c:a.group})),ag:e.f(e.unref(y),(a,l,u)=>({a:e.f(a.options,(a,l,u)=>{var t;return{a:e.t(a.icon),b:e.t(a.label),c:a.value,d:(null==(t=O.value.favorite_colors)?void 0:t.includes(a.value))?1:"",e:e.o(e=>x("favorite_colors",a.value),a.value)}}),b:a.group}))}:{},{ah:n.value.suno?1:"",ai:e.o(e=>L("suno")),aj:n.value.suno},n.value.suno?{ak:e.f(e.unref(S),(a,l,u)=>({a:e.t(a.icon),b:e.t(a.name),c:e.t(a.description),d:a.id,e:C.value===a.id?1:"",f:e.o(e=>function(e){C.value=e.id,o("update:modelValue",{...t.modelValue,style_weight:e.style_weight,creativity:e.creativity})}(a),a.id)})),al:e.t(Math.round(100*(O.value.style_weight||.5))),am:e.t(U("style_weight")),an:100*(O.value.style_weight||.5),ao:e.o(e=>I("style_weight",e.detail.value/100)),ap:e.t(Math.round(100*(O.value.creativity||.5))),aq:e.t(U("creativity")),ar:100*(O.value.creativity||.5),as:e.o(e=>I("creativity",e.detail.value/100)),at:e.f(e.unref(E),(a,l,u)=>({a:e.t(a.label),b:a.value,c:A.value.includes(a.value)?1:"",d:e.o(e=>function(e){const a=A.value.indexOf(e);a>-1?A.value.splice(a,1):A.value.push(e),I("negative_tags",A.value.join(", "))}(a.value),a.value)}))}:{}):{})}}),u=e._export_sfc(l,[["__scopeId","data-v-1a47dbee"]]);wx.createComponent(u);
